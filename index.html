<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HEAVEN ANIME - Streaming Platform</title>
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- React & ReactDOM -->
  <script crossorigin src="https://unpkg.com/react@19/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@19/umd/react-dom.development.js"></script>

  <!-- Lucide Icons -->
  <script type="module">
    import * as Lucide from "https://cdn.jsdelivr.net/npm/lucide@0.545.0/dist/lucide.esm.js";
    window.Lucide = Lucide;
  </script>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&family=Tajawal:wght@400;500;700;900&display=swap');
    body { margin:0; padding:0; background-color:#0a0a0c; color:white; font-family:'Tajawal','Inter',sans-serif; }
    .custom-scrollbar::-webkit-scrollbar { width:4px; }
    .custom-scrollbar::-webkit-scrollbar-track { background:transparent; }
    .custom-scrollbar::-webkit-scrollbar-thumb { background:rgba(255,255,255,0.1); border-radius:10px; }
    .rtl { direction: rtl; }
    .ltr { direction: ltr; }
    @keyframes fadeIn { from { opacity:0; transform:translateY(10px); } to { opacity:1; transform:translateY(0); } }
    .animate-fade-in { animation: fadeIn 0.4s ease-out forwards; }
    .video-container:hover .video-controls { transform: translateY(0); }
  </style>
</head>
<body class="bg-[#0a0a0c] text-white">
  <div id="root"></div>

  <script type="text/javascript">
    const { useState, useEffect } = React;
    const { createRoot } = ReactDOM;
    const { Search, Globe, Play, Bookmark, Share2, ChevronRight, ChevronLeft, Settings, Maximize, Volume2, Sparkles } = Lucide;

    const AppView = { HOME: 'HOME', DISCOVERY: 'DISCOVERY', DETAILS: 'DETAILS', WATCH: 'WATCH' };
    const Language = { AR: 'ar', EN: 'en' };

    const MOCK_ANIME = [
      { id: '1', title: 'هجوم العمالقة', titleEn: 'Attack on Titan', synopsis: 'بعد أن تم تدمير مسقط رأسه وقتل والدته، يتعهد إيرين ييغر الشاب بتطهير الأرض من العمالقة البشرية العملاقة التي دفعت البشرية إلى حافة الانقراض.', poster: 'https://images.unsplash.com/photo-1541562232579-512a21359920?q=80&w=1000&auto=format&fit=crop', banner: 'https://images.unsplash.com/photo-1541562232579-512a21359920?q=80&w=2000&auto=format&fit=crop', rating: 9.1, year: 2013, status: 'Completed', type: 'TV', genres: ['Action','Drama','Fantasy'], episodesCount:87, studio:'MAPPA' },
      { id: '2', title: 'ون بيس', titleEn: 'One Piece', synopsis: 'يتبع مغامرات مونكي دي لوفي، وهو فتى اكتسب جسمه خصائص المطاط بعد أكله بالخطأ فاكهة الشيطان، وطاقمه المتنوع من القراصنة.', poster: 'https://images.unsplash.com/photo-1618336753974-aae8e04506aa?q=80&w=1000&auto=format&fit=crop', banner: 'https://images.unsplash.com/photo-1618336753974-aae8e04506aa?q=80&w=2000&auto=format&fit=crop', rating: 8.9, year: 1999, status: 'Ongoing', type: 'TV', genres: ['Adventure','Fantasy','Comedy'], episodesCount:1100, studio:'Toei Animation' },
      { id: '3', title: 'قاتل الشياطين', titleEn: 'Demon Slayer', synopsis: 'تانجيرو كامادو، فتى طيب القلب يقرر أن يصبح قاتل شياطين بعد أن ذبحت عائلته وتحولت أخته الصغرى نيزوكو إلى شيطان.', poster: 'https://images.unsplash.com/photo-1578632292335-df3abbb0d586?q=80&w=1000&auto=format&fit=crop', banner: 'https://images.unsplash.com/photo-1578632292335-df3abbb0d586?q=80&w=2000&auto=format&fit=crop', rating: 8.7, year: 2019, status: 'Ongoing', type: 'TV', genres: ['Action','Fantasy'], episodesCount:55, studio:'ufotable' }
    ];

    // ===== Components =====

    function Header({ onSearch, onHome, onToggleLang, language }) {
      const [query,setQuery] = useState('');
      const isRTL = language===Language.AR;

      return React.createElement('header', { className:'fixed top-0 left-0 right-0 z-50 bg-black/80 backdrop-blur-md border-b border-white/5' },
        React.createElement('div', { className:'container mx-auto px-4 h-16 flex items-center justify-between gap-4' },
          React.createElement('div', { className:'flex items-center gap-8' },
            React.createElement('button', { onClick:onHome, className:'text-2xl font-black tracking-tighter bg-gradient-to-r from-cyan-400 to-purple-500 bg-clip-text text-transparent hover:opacity-80 transition-opacity' }, 'HEAVEN'),
            React.createElement('nav', { className:'hidden md:flex items-center gap-6' },
              React.createElement('button', { onClick:onHome, className:'text-sm font-medium hover:text-cyan-400 transition-colors' }, language===Language.AR?'الرئيسية':'Home'),
              React.createElement('button', { className:'text-sm font-medium hover:text-cyan-400 transition-colors' }, language===Language.AR?'أفلام':'Movies')
            )
          ),
          React.createElement('div', { className:'flex-grow max-w-xl' },
            React.createElement('form', { onSubmit:e=>{ e.preventDefault(); onSearch(query); }, className:'relative group' },
              React.createElement(Search, { className:`absolute ${isRTL?'right-3':'left-3'} top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 group-focus-within:text-cyan-400 transition-colors` }),
              React.createElement('input', { type:'text', value:query, onChange:e=>setQuery(e.target.value), placeholder:language===Language.AR?'ابحث عن الأنمي المفضل لديك...':'Search your favorite anime...', className:`w-full bg-white/5 border border-white/10 rounded-full ${isRTL?'pr-10 pl-4':'pl-10 pr-4'} py-2 text-sm focus:outline-none focus:ring-2 focus:ring-cyan-400/50 focus:border-cyan-400 transition-all` })
            )
          ),
          React.createElement('div', { className:'flex items-center gap-4' },
            React.createElement('button', { onClick:onToggleLang, className:'p-2 hover:bg-white/10 rounded-full transition-colors flex items-center gap-2' },
              React.createElement(Globe, { className:'w-5 h-5' }),
              React.createElement('span', { className:'text-xs font-bold uppercase' }, language)
            )
          )
        )
      );
    }

    function Hero({ anime, onWatch, language }) {
      if(!anime) return null;
      return React.createElement('div', { className:'relative h-[500px] md:h-[600px] rounded-3xl overflow-hidden group' },
        React.createElement('div', { className:'absolute inset-0' },
          React.createElement('img', { src:anime.banner, alt:anime.title, className:'w-full h-full object-cover group-hover:scale-105 transition-transform duration-700' }),
          React.createElement('div', { className:'absolute inset-0 bg-gradient-to-t from-[#0a0a0c] via-[#0a0a0c]/40 to-transparent' }),
          React.createElement('div', { className:'absolute inset-0 bg-gradient-to-r from-[#0a0a0c] via-transparent to-transparent' })
        ),
        React.createElement('div', { className:'absolute bottom-0 left-0 right-0 p-8 md:p-16 space-y-6 max-w-3xl' },
          React.createElement('div', { className:'flex items-center gap-2' },
            React.createElement('span', { className:'px-2 py-0.5 bg-cyan-500 text-black text-[10px] font-bold rounded uppercase' }, anime.type),
            React.createElement('span', { className:'text-cyan-400 text-sm font-bold' }, `★ ${anime.rating}`)
          ),
          React.createElement('h1', { className:'text-4xl md:text-6xl font-black' }, language===Language.AR?anime.title:anime.titleEn),
          React.createElement('p', { className:'text-gray-300 text-lg line-clamp-3 leading-relaxed' }, anime.synopsis),
          React.createElement('div', { className:'flex items-center gap-4' },
            React.createElement('button', { onClick:onWatch, className:'flex items-center gap-2 px-8 py-4 bg-white text-black font-bold rounded-xl hover:bg-cyan-400 hover:scale-105 transition-all' },
              React.createElement(Play, { className:'fill-current w-5 h-5' }),
              language===Language.AR?'شاهد الآن':'Watch Now'
            )
          )
        )
      );
    }

    function AnimeGrid({ animeList, onSelect, language }) {
      return React.createElement('div', { className:'grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6' },
        animeList.map(anime =>
          React.createElement('button', { key:anime.id, onClick:()=>onSelect(anime), className:'group text-left space-y-3' },
            React.createElement('div', { className:'relative aspect-[2/3] rounded-2xl overflow-hidden shadow-lg border border-white/5 transition-transform duration-300 group-hover:-translate-y-2 group-hover:border-cyan-400/50' },
              React.createElement('img', { src:anime.poster, alt:anime.title, className:'w-full h-full object-cover group-hover:scale-110 transition-transform duration-500' })
            ),
            React.createElement('div', null,
              React.createElement('h3', { className:'font-bold text-sm line-clamp-1 group-hover:text-cyan-400 transition-colors' }, language===Language.AR?anime.title:anime.titleEn),
              React.createElement('div', { className:'flex items-center gap-2 text-[10px] text-gray-500 font-medium' },
                React.createElement('span', null, anime.year),
                React.createElement('span', null, '•'),
                React.createElement('span', null, anime.type),
                React.createElement('span', { className:'text-yellow-500 ml-auto' }, `★ ${anime.rating}`)
              )
            )
          )
        )
      );
    }

    function App() {
      const [view,setView] = useState(AppView.HOME);
      const [language,setLanguage] = useState(Language.AR);
      const [searchResults,setSearchResults] = useState([]);
      const [selectedAnime,setSelectedAnime] = useState(null);

      const handleSearch = query => {
        if(!query.trim()){ setView(AppView.HOME); return; }
        const results = MOCK_ANIME.filter(a=>a.title.includes(query)||a.titleEn.toLowerCase().includes(query.toLowerCase()));
        setSearchResults(results); setView(AppView.DISCOVERY);
      };

      const openDetails = anime => { setSelectedAnime(anime); setView(AppView.DETAILS); window.scrollTo({top:0, behavior:'smooth'}); };
      const isRTL = language===Language.AR;

      return React.createElement('div', { className:`min-h-screen bg-[#0a0a0c] text-white font-sans ${isRTL?'rtl':'ltr'}`, dir:isRTL?'rtl':'ltr' },
        React.createElement(Header, { onSearch:handleSearch, onHome:()=>setView(AppView.HOME), onToggleLang:()=>setLanguage(l=>l===Language.AR?Language.EN:Language.AR), language:language }),
        React.createElement('main', { className:'container mx-auto px-4 pb-20 pt-24' },
          view===AppView.HOME && React.createElement(Hero, { anime:MOCK_ANIME[0], onWatch:()=>openDetails(MOCK_ANIME[0]), language }),
          view===AppView.DISCOVERY && React.createElement(AnimeGrid, { animeList:searchResults, onSelect:openDetails, language }),
          view===AppView.DETAILS && selectedAnime && React.createElement(Hero, { anime:selectedAnime, onWatch:()=>openDetails(selectedAnime), language })
        ),
        React.createElement('footer', { className:'border-t border-gray-800 py-10 mt-20' },
          React.createElement('div', { className:'container mx-auto px-4 text-center' },
            React.createElement('h1', { className:'text-2xl font-bold bg-gradient-to-r from-cyan-400 to-purple-500 bg-clip-text text-transparent mb-4' }, 'HEAVEN ANIME'),
            React.createElement('p', { className:'text-gray-500 text-sm' }, language===Language.AR?'جميع الحقوق محفوظة © 2025':'All Rights Reserved © 2025')
          )
        )
      );
    }

    createRoot(document.getElementById('root')).render(React.createElement(App));
  </script>
</body>
</html>
